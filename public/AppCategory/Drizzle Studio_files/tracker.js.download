"use strict";(()=>{var L;var N=-1,g=function(e){addEventListener("pageshow",function(n){n.persisted&&(N=n.timeStamp,e(n))},!0)},V=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},I=function(){var e=V();return e&&e.activationStart||0},p=function(e,n){var t=V(),r="navigate";return N>=0?r="back-forward-cache":t&&(document.prerendering||I()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:e,value:n===void 0?-1:n,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},w=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){n(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch{}},h=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||i===void 0)&&(i=n.value,n.delta=o,n.rating=function(c,s){return c>s[1]?"poor":c>s[0]?"needs-improvement":"good"}(n.value,t),e(n))}},R=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},C=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},A=function(e){var n=!1;return function(){n||(e(),n=!0)}},m=-1,q=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},E=function(e){document.visibilityState==="hidden"&&m>-1&&(m=e.type==="visibilitychange"?e.timeStamp:0,ne())},B=function(){addEventListener("visibilitychange",E,!0),addEventListener("prerenderingchange",E,!0)},ne=function(){removeEventListener("visibilitychange",E,!0),removeEventListener("prerenderingchange",E,!0)},_=function(){return m<0&&(m=q(),B(),g(function(){setTimeout(function(){m=q(),B()},0)})),{get firstHiddenTime(){return m}}},F=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},O=[1800,3e3],te=function(e,n){n=n||{},F(function(){var t,r=_(),i=p("FCP"),o=w("paint",function(a){a.forEach(function(c){c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<r.firstHiddenTime&&(i.value=Math.max(c.startTime-I(),0),i.entries.push(c),t(!0)))})});o&&(t=h(e,i,O,n.reportAllChanges),g(function(a){i=p("FCP"),t=h(e,i,O,n.reportAllChanges),R(function(){i.value=performance.now()-a.timeStamp,t(!0)})}))})},M=[.1,.25],j=function(e,n){n=n||{},te(A(function(){var t,r=p("CLS",0),i=0,o=[],a=function(s){s.forEach(function(u){if(!u.hadRecentInput){var Z=o[0],ee=o[o.length-1];i&&u.startTime-ee.startTime<1e3&&u.startTime-Z.startTime<5e3?(i+=u.value,o.push(u)):(i=u.value,o=[u])}}),i>r.value&&(r.value=i,r.entries=o,t())},c=w("layout-shift",a);c&&(t=h(e,r,M,n.reportAllChanges),C(function(){a(c.takeRecords()),t(!0)}),g(function(){i=0,r=p("CLS",0),t=h(e,r,M,n.reportAllChanges),R(function(){return t()})}),setTimeout(t,0))}))},$=0,P=1/0,y=0,ie=function(e){e.forEach(function(n){n.interactionId&&(P=Math.min(P,n.interactionId),y=Math.max(y,n.interactionId),$=y?(y-P)/7+1:0)})},re=function(){"interactionCount"in performance||L||(L=w("event",ie,{type:"event",buffered:!0,durationThreshold:0}))},f=[],T=new Map,D=0,oe=function(){return(L?$:performance.interactionCount||0)-D},ae=[],ue=function(e){if(ae.forEach(function(i){return i(e)}),e.interactionId||e.entryType==="first-input"){var n=f[f.length-1],t=T.get(e.interactionId);if(t||f.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};T.set(r.id,r),f.push(r)}f.sort(function(i,o){return o.latency-i.latency}),f.length>10&&f.splice(10).forEach(function(i){return T.delete(i.id)})}}},U=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=A(e),document.visibilityState==="hidden"?e():(t=n(e),C(e)),t},x=[200,500],J=function(e,n){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(n=n||{},F(function(){var t;re();var r,i=p("INP"),o=function(c){U(function(){c.forEach(ue);var s,u=(s=Math.min(f.length-1,Math.floor(oe()/50)),f[s]);u&&u.latency!==i.value&&(i.value=u.latency,i.entries=u.entries,r())})},a=w("event",o,{durationThreshold:(t=n.durationThreshold)!==null&&t!==void 0?t:40});r=h(e,i,x,n.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),C(function(){o(a.takeRecords()),r(!0)}),g(function(){D=0,f.length=0,T.clear(),i=p("INP"),r=h(e,i,x,n.reportAllChanges)}))}))},H=[2500,4e3],S={},Q=function(e,n){n=n||{},F(function(){var t,r=_(),i=p("LCP"),o=function(s){n.reportAllChanges||(s=s.slice(-1)),s.forEach(function(u){u.startTime<r.firstHiddenTime&&(i.value=Math.max(u.startTime-I(),0),i.entries=[u],t())})},a=w("largest-contentful-paint",o);if(a){t=h(e,i,H,n.reportAllChanges);var c=A(function(){S[i.id]||(o(a.takeRecords()),a.disconnect(),S[i.id]=!0,t(!0))});["keydown","click"].forEach(function(s){addEventListener(s,function(){return U(c)},!0)}),C(c),g(function(s){i=p("LCP"),t=h(e,i,H,n.reportAllChanges),R(function(){i.value=performance.now()-s.timeStamp,S[i.id]=!0,t(!0)})})}})};function ce(e){return e.getAttribute("data-hash-routing")!==null}function K(){return/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(location.hostname)||location.protocol==="file:"}function W(){return!!(window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)}function X(){return window.localStorage.getItem("unexpected_ignore")==="true"}function v(e,n){console.warn(`Ignoring event "${e}": ${n}`)}function z(e,n){if(navigator.sendBeacon!==void 0){if(navigator.sendBeacon(e,JSON.stringify(n)))return;console.warn("sendBeacon() didn't queue the request, falling back to fetch()")}fetch(e,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST"}).catch(t=>console.error(`fetch() failed: ${t.message}`))}function d(e,n){var t;if(!((t=window.unexpected)===null||t===void 0)&&t.q||(window.unexpected={q:[]}),window.unexpected.q.push(e),n===0){d.timeout&&(clearTimeout(d.timeout.id),d.timeout=null),b();return}let r=()=>{b(),d.timeout=null};if(!d.timeout){d.timeout={id:setTimeout(r,n),delay:n};return}d.timeout.delay>=n&&(clearTimeout(d.timeout.id),d.timeout={id:setTimeout(r,n),delay:n})}(function(e){e.timeout=null})(d||(d={}));function b(){var e;if(!(!((e=window.unexpected)===null||e===void 0)&&e.q)||!window.unexpected.q.length)return;d.timeout!==null&&clearTimeout(d.timeout.id);let n=window.unexpected.q;window.unexpected.q=[];let t={u:n[0].u,v:n[0].v,e:[]};for(let r of n)switch(r.t){case"CwvReport":t.e.push({t:"CwvReport",cls:r.cls,inp:r.inp,lcp:r.lcp});break;case"PageView":t.e.push({t:"PageView",h:r.h,r:r.r});break}z("https://event-collector.onedollarstats.com/events",t),z("https://collector.onedollarstats.com/events",t)}async function Y(){let e=new URL(location.href);return e.search="",{u:e.href}}async function k(e){if(K())return v("CwvReport","Running on localhost");if(W())return v("CwvReport","Running in a headless browser");if(X())return v("CwvReport","Ignore flag is set");d(Object.assign(Object.assign({},await Y()),{t:"CwvReport",cls:e.name==="CLS"?e.value:void 0,inp:e.name==="INP"?e.value:void 0,lcp:e.name==="LCP"?e.value:void 0}),5e3)}async function l(){if(K())return v("PageView","Running on localhost");if(W())return v("PageView","Running in a headless browser");if(X())return v("PageView","Ignore flag is set");if(!G&&l.lastPage===location.pathname)return v("PageView","Pathname has not changed");l.lastPage=location.pathname;let e=new URL(location.href),n=document.referrer?new URL(document.referrer):void 0;n&&(n.search=""),d(Object.assign(Object.assign({},await Y()),{t:"PageView",h:G,r:n&&n.hostname!==e.hostname?n.href:void 0}),0)}(function(e){e.lastPage=null})(l||(l={}));var se=document.currentScript,G=ce(se);j(k);J(k);Q(k);if(window.history.pushState){let e=window.history.pushState;window.history.pushState=function(n,t,r){e.apply(this,[n,t,r]),l()},window.addEventListener("popstate",l)}document.visibilityState!=="visible"?document.addEventListener("visibilitychange",()=>{!l.lastPage&&document.visibilityState==="visible"&&l()}):l();document.addEventListener("visibilitychange",()=>{document.visibilityState});document.addEventListener("pagehide",b);})();
